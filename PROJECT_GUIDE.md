# –ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ —Ç–≤–æ–µ–º—É –ø—Ä–æ–µ–∫—Ç—É (Warehouse Management System)

–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º! –ê–º–Ω–µ–∑–∏—è ‚Äî –¥–µ–ª–æ —Å–µ—Ä—å–µ–∑–Ω–æ–µ, –Ω–æ –∫–æ–¥ –≤—Å–µ –ø–æ–º–Ω–∏—Ç. –≠—Ç–æ—Ç –≥–∞–π–¥ –Ω–∞–ø–∏—Å–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è, —á—Ç–æ–±—ã —Ç—ã –∑–∞ 15 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª –∫–∞—Ä—Ç–∏–Ω—É –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ (–∏ –¥–∞–∂–µ –ª—É—á—à–µ –ø–æ–Ω—è–ª Go).

–ó–¥–µ—Å—å –º—ã –ø–æ–π–¥–µ–º –æ—Ç –æ–±—â–µ–≥–æ –∫ —á–∞—Å—Ç–Ω–æ–º—É: —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–∏—Å—Ç–µ–º—É "—Å –≤—ã—Å–æ—Ç—ã –ø—Ç–∏—á—å–µ–≥–æ –ø–æ–ª–µ—Ç–∞", –∞ –ø–æ—Ç–æ–º –∑–∞–ª–µ–∑–µ–º –ø–æ–¥ –∫–∞–ø–æ—Ç –≤ –∫–∞–∂–¥—É—é –≤–∞–∂–Ω—É—é –ø–∞–ø–∫—É.

---

## ü¶Ö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –í–∏–¥ —Å–≤–µ—Ä—Ö—É (Big Picture)

–¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ **Backend API** –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–º. –û–Ω –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Go** –∏ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture** (—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã), –Ω–æ –≤ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –∏ –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω–æ–º –≤–∏–¥–µ.

### –ö–∞–∫ –±–µ–≥—É—Ç –¥–∞–Ω–Ω—ã–µ? (Request Flow)

–ö–æ–≥–¥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–ª–∏ Postman –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°–æ–∑–¥–∞–π —Ç–æ–≤–∞—Ä"), –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

```mermaid
sequenceDiagram
    participant User as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/Client
    participant Main as cmd/main.go
    participant Router as Router (http.ServeMux)
    participant Handler as Handler (Controllers)
    participant Repo as Repository (Database Layer)
    participant DB as Postgres DB

    Note over Main: –°—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    Main->>Main: –ó–∞–≥—Ä—É–∑–∫–∞ Config
    Main->>Main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Logger & DB
    Main->>Router: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
    
    User->>Router: GET /api/products
    Router->>Handler: –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ GetProducts()
    Note over Handler: –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞, –ª–æ–≥–∏–∫–∞
    Handler->>Repo: repo.GetAll(ctx)
    Repo->>DB: SELECT * FROM products
    DB-->>Repo: –í–µ—Ä–Ω—É–ª —Å—Ç—Ä–æ–∫–∏ (Rows)
    Repo-->>Handler: –í–µ—Ä–Ω—É–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Structs)
    Handler-->>User: JSON Response (200 OK)
```

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:**
1.  **Handler (–û–±—Ä–∞–±–æ—Ç—á–∏–∫)**: –ó–Ω–∞–µ—Ç –ø—Ä–æ HTTP (–∑–∞–≥–æ–ª–æ–≤–∫–∏, JSON), –Ω–æ –ù–ï –∑–Ω–∞–µ—Ç –ø—Ä–æ SQL. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç "–Ω–∞ –∫—É—Ö–Ω—é".
2.  **Repository (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)**: –ó–Ω–∞–µ—Ç –ø—Ä–æ SQL (INSERT, SELECT), –Ω–æ –ù–ï –∑–Ω–∞–µ—Ç –ø—Ä–æ HTTP. –≠—Ç–æ "–ø–æ–≤–∞—Ä", –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π.
3.  **App (–°–≤—è–∑–Ω–æ–π)**: –°–æ–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤–º–µ—Å—Ç–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

---

## üó∫ –ö–∞—Ä—Ç–∞ —Å–æ–∫—Ä–æ–≤–∏—â (–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫)

–î–∞–≤–∞–π –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ –ø–∞–ø–∫–∞–º, –∫–∞–∫ –±—É–¥—Ç–æ –º—ã –æ—Ç–∫—Ä—ã–≤–∞–µ–º —à–∫–∞—Ñ—ã –≤ Ikea.

| –ü–∞–ø–∫–∞ | –ó–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç | –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏ |
| :--- | :--- | :--- |
| **`cmd/app`** | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ó–¥–µ—Å—å –ª–µ–∂–∏—Ç `main.go`. | –ö–ª—é—á –∑–∞–∂–∏–≥–∞–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è. |
| **`internal`** | –í–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —Å–∫—Ä—ã—Ç—ã–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. | –î–≤–∏–≥–∞—Ç–µ–ª—å –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º. |
| **`internal/config`** | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–æ—Ä—Ç—ã, –ø–∞—Ä–æ–ª–∏ –∫ –ë–î). | –ü—Ä–∏–±–æ—Ä–Ω–∞—è –ø–∞–Ω–µ–ª—å. |
| **`internal/domain`** | –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Go). | –ß–µ—Ä—Ç–µ–∂–∏ –¥–µ—Ç–∞–ª–µ–π (–¢–æ–≤–∞—Ä, –°–∫–ª–∞–¥). |
| **`internal/handler`** | –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã). | –û—Ñ–∏—Ü–∏–∞–Ω—Ç—ã, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ –∑–∞–∫–∞–∑—ã. |
| **`internal/repository`** | –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (SQL –∑–∞–ø—Ä–æ—Å—ã). | –ö–ª–∞–¥–æ–≤—â–∏–∫–∏, –≤—ã–¥–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ. |
| **`internal/app`** | –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`app.go`). | –°–±–æ—Ä–æ—á–Ω—ã–π —Ü–µ—Ö, –≥–¥–µ –¥–µ—Ç–∞–ª–∏ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è. |
| **`pkg/logger`** | –£—Ç–∏–ª–∏—Ç—ã (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –õ–æ–≥–≥–µ—Ä). | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–æ—Ç–≤—ë—Ä—Ç–∫–∞, –º–æ–ª–æ—Ç–æ–∫). |
| **`migrations`** | SQL —Ñ–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü. | –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏ –∑–¥–∞–Ω–∏—è. |
| **`docs`** | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger). | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é. |

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä (–ü–æ–¥ –∫–∞–ø–æ—Ç)

### 1. –ö–∞–∫ –≤—Å–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è (`cmd/app/main.go`)
–≠—Ç–æ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—ë.
- **Config**: –°–Ω–∞—á–∞–ª–∞ –≥—Ä—É–∑–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`config.NewConfig()`).
- **Logger**: –í–∫–ª—é—á–∞–µ–º "—á–µ—Ä–Ω—ã–π —è—â–∏–∫" –¥–ª—è –ª–æ–≥–æ–≤ (`logger.NewLogger()`).
- **App**: –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`app.NewApp(...)`). –≠—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî –∑–¥–µ—Å—å –º—ã –≤–Ω–µ–¥—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- **Server**: –ó–∞–ø—É—Å–∫–∞–µ–º HTTP —Å–µ—Ä–≤–µ—Ä (`http.Server`).
- **Graceful Shutdown**: –°–ª—É—à–∞–µ–º —Å–∏–≥–Ω–∞–ª—ã –û–° (Ctrl+C), —á—Ç–æ–±—ã –≤—ã–∫–ª—é—á–∏—Ç—å—Å—è –º—è–≥–∫–æ, –Ω–µ –æ–±—Ä—ã–≤–∞—è –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

### 2. –°–±–æ—Ä–∫–∞ (`internal/app/app.go`)
–ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∞–≥–∏—è **Dependency Injection** (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö *–≤–Ω—É—Ç—Ä–∏* —Ö–µ–Ω–¥–ª–µ—Ä–∞, –º—ã —Å–æ–∑–¥–∞–µ–º –µ—ë *–æ–¥–∏–Ω —Ä–∞–∑* –∑–¥–µ—Å—å –∏ –ø–µ—Ä–µ–¥–∞–µ–º (–∏–Ω–∂–µ–∫—Ç–∏–º) –≤–Ω—É—Ç—Ä—å.

```go
// –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ:
db := ConnectToDB()           // 1. –°–æ–∑–¥–∞–ª–∏ –±–∞–∑—É
repo := NewProductRepo(db)    // 2. –î–∞–ª–∏ –±–∞–∑—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
handler := NewHandler(repo)   // 3. –î–∞–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ö–µ–Ω–¥–ª–µ—Ä—É
```
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∏ –≥–∏–±–∫–∏–º.

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (`internal/config`)
–¢–≤–æ–π –∫–æ–Ω—Ñ–∏–≥ —É–º–Ω—ã–π. –û–Ω –∏—â–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:
1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (ENV, —Å–∞–º—ã–µ –≥–ª–∞–≤–Ω—ã–µ). `HTTP_PORT=:9090 ./app`
2. **–§–∞–π–ª .env** (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ª–æ–∫–∞–ª—å–Ω–æ).
3. **–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏).

> **–ù—é–∞–Ω—Å Go**: `godotenv.Load()` –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª–∏–∫ `.env` –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ–±—ã `os.Getenv` –º–æ–≥ –∏—Ö –Ω–∞–π—Ç–∏.

### 4. HTTP –•–µ–Ω–¥–ª–µ—Ä—ã (`internal/handler`)
–ó–¥–µ—Å—å –∂–∏–≤–µ—Ç `h.GetProducts`, `h.CreateWarehouse` –∏ —Ç.–¥.
**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–æ—É—Ç–µ—Ä Go 1.22 (`http.ServeMux`), –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å –º–µ—Ç–æ–¥—ã (`GET /api/products`).

**–¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ö–µ–Ω–¥–ª–µ—Ä–∞:**
1.  **Parse**: –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ. –ï—Å–ª–∏ —ç—Ç–æ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî `r.PathValue("id")`. –ï—Å–ª–∏ JSON ‚Äî `json.NewDecoder(r.Body).Decode(&dto)`.
2.  **Call**: –ó–≤–æ–Ω–∏–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `h.productRepo.Create(ctx, product)`.
3.  **Handle Error**: `if err != nil` ‚Äî –ª–æ–≥–∏—Ä—É–µ–º –∏ –æ—Ç–¥–∞–µ–º 500/400 –æ—à–∏–±–∫—É.
4.  **Respond**: –ü–∏—à–µ–º –æ—Ç–≤–µ—Ç `writeJSON(w, 200, output)`.

### 5. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (`internal/repository`)
–ó–¥–µ—Å—å —á–∏—Å—Ç—ã–π SQL. –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –¥—Ä–∞–π–≤–µ—Ä `pgx` (—ç—Ç–æ –∫—Ä—É—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è Postgres).
–ó–∞–ø—Ä–æ—Å—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫ (Raw SQL). –≠—Ç–æ –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å.

**–ü—Ä–∏–º–µ—Ä:**
```go
query := `INSERT INTO products ... RETURNING id`
r.pool.QueryRow(ctx, query, ...).Scan(&id)
```

---

## ‚ö°Ô∏è Go Syntax Flashbacks (–ù–∞–ø–æ–º–∏–Ω–∞–ª–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞)

–¢—É—Ç –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –º–æ–≥ –∑–∞–±—ã—Ç—å:

### 1. `ctx context.Context`
–ü–∞—Ç—Ç–µ—Ä–Ω: *–í—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º*.
–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —ç—Ç–æ "–¥—É—à–∞" –∑–∞–ø—Ä–æ—Å–∞. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–ª –≤–∫–ª–∞–¥–∫—É –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –∏ –º—ã –º–æ–∂–µ–º –æ—Ç–º–µ–Ω–∏—Ç—å –¥–æ–ª–≥–∏–π –∑–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É, —á—Ç–æ–±—ã –Ω–µ –≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∑—Ä—è.
```go
ctx := r.Context() // –ë–µ—Ä–µ–º –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
repo.GetAll(ctx)   // –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–ª—å—à–µ
```

### 2. `if err != nil`
–í Go –Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π (exceptions). –õ—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.
**–ü—Ä–∞–≤–∏–ª–æ:** *–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –æ—à–∏–±–∫—É —Å—Ä–∞–∑—É*.
```go
result, err := DoSomething()
if err != nil {
    // –û–±—Ä–∞–±–æ—Ç–∞–π: –∑–∞–ª–æ–≥–∏—Ä—É–π –∏–ª–∏ –≤–µ—Ä–Ω–∏ –Ω–∞–≤–µ—Ä—Ö
    return nil, err
}
// –ï—Å–ª–∏ –¥–æ—à–ª–∏ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç –≤—Å–µ –æ–∫
```

### 3. Struct Tags (`json:"name"`)
–≠—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ. –ö–æ–≥–¥–∞ —Ç—ã –¥–µ–ª–∞–µ—à—å `json.Decode`, Go —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —ç—Ç–∏ —Ç–µ–≥–∏, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–µ –ø–æ–ª–µ JSON —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
```go
type Product struct {
    Name string `json:"name"` // –í JSON –±—É–¥–µ—Ç –ø–æ–ª–µ "name", –∞ –Ω–µ "Name"
}
```

### 4. Pointers vs Values (`*App` vs `App`)
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å `*Handler` (–∑–≤–µ–∑–¥–æ—á–∫—É) ‚Äî —ç—Ç–æ **—É–∫–∞–∑–∞—Ç–µ–ª—å**. –ú—ã –ø–µ—Ä–µ–¥–∞–µ–º *—Å—Å—ã–ª–∫—É* –Ω–∞ –æ–±—ä–µ–∫—Ç. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –ø–æ–ª—è, –æ–Ω–∏ –∏–∑–º–µ–Ω—è—Ç—Å—è –≤–µ–∑–¥–µ. –û–±—ã—á–Ω–æ —Å–µ—Ä–≤–∏—Å—ã –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç –∫–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª–∏, —á—Ç–æ–±—ã –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏ –∏–º–µ—Ç—å –æ–¥–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î).
- –ë–µ–∑ –∑–≤–µ–∑–¥–æ—á–∫–∏ ‚Äî **–∫–æ–ø–∏—è**.

### 5. Defer (`defer rows.Close()`)
"–°–¥–µ–ª–∞–π —ç—Ç–æ, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –∫–∞–∫ –±—ã –æ–Ω–∞ –Ω–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å (–¥–∞–∂–µ —Å –æ—à–∏–±–∫–æ–π)".
–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ç—É "–º–∞—Ö–∏–Ω—É"?

–£ —Ç–µ–±—è –µ—Å—Ç—å `docker-compose.yml`, —Ç–∞–∫ —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Å—Ç–æ.

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –õ–µ–Ω–∏–≤—ã–π (–≤—Å–µ –≤ –¥–æ–∫–µ—Ä–µ)**
```bash
docker-compose up --build
```
–ü–æ–¥–Ω–∏–º–µ—Ç:
1.  **Postgres** (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
2.  **Migrate** (–Ω–∞–∫–∞—Ç–∏—Ç —Ç–∞–±–ª–∏—Ü—ã)
3.  **App** (—Ç–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç—É 8080)
4.  **PgAdmin** (–∞–¥–º–∏–Ω–∫–∞ –¥–ª—è –±–∞–∑—ã –Ω–∞ –ø–æ—Ä—Ç—É 8588)

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (–∫–æ–¥–∏–º –ª–æ–∫–∞–ª—å–Ω–æ, –±–∞–∑–∞ –≤ –¥–æ–∫–µ—Ä–µ)**
1.  –ó–∞–ø—É—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –±–∞–∑—É: `docker-compose up postgres migrate`
2.  –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `go run cmd/app/main.go`

## üìö Swagger (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API)

–í –∫–æ–¥–µ —Ç—ã –≤–∏–¥–∏—à—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–∏–ø–∞ `// @Summary`. –≠—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è **Swag**.
–ï—Å–ª–∏ —Ç—ã –ø–æ–º–µ–Ω—è–ª –∫–æ–¥, –æ–±–Ω–æ–≤–∏ –¥–æ–∫–∏ –∫–æ–º–∞–Ω–¥–æ–π:
```bash
swag init -g cmd/app/main.go
```
(–†–µ–∑—É–ª—å—Ç–∞—Ç —É–ø–∞–¥–µ—Ç –≤ –ø–∞–ø–∫—É `docs/swagger`).

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—Ä–∞—Å–∏–≤—É—é –¥–æ–∫—É –º–æ–∂–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080/swagger/index.html` (–∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω).

---

–í—Ä–æ–¥–µ –≤—Å–µ! –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –≥–¥–µ "–¥–≤–∏–≥–∞—Ç–µ–ª—å", –≥–¥–µ "—Ä—É–ª—å", –∏ –ø–æ—á–µ–º—É "–±–µ–Ω–∑–∏–Ω" (–¥–∞–Ω–Ω—ã–µ) —Ç–µ—á–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫. –£–¥–∞—á–Ω–æ–≥–æ –∫–æ–¥–∏–Ω–≥–∞! üöÄ
